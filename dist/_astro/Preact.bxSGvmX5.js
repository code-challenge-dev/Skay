import{h as w,A as p}from"./hooks.module.BU4n4kN0.js";import{l as y,b as v}from"./preact.module.BoT60KG-.js";class h{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const N=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:N()},g=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},E=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=g(e);a.publicKey=r.publicKey,a.blockHeadless=r.blockHeadless,a.storageProvider=r.storageProvider,a.blockList=r.blockList,a.limitRate=r.limitRate,a.origin=r.origin||t},k=async(e,t,r={})=>{const o=await fetch(a.origin+e,{method:"POST",headers:r,body:t}),s=await o.text(),i=new h(o.status,s);if(o.ok)return i;throw i},_=(e,t,r)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||"string"!=typeof r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},M=e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},x=e=>e.webdriver||!e.languages||0===e.languages.length,j=()=>new h(451,"Unavailable For Headless Browser"),C=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"},B=e=>!e.list?.length||!e.watchVariable,K=(e,t)=>e instanceof FormData?e.get(t):e[t],L=(e,t)=>{if(B(e))return!1;C(e.list,e.watchVariable);const r=K(t,e.watchVariable);return"string"==typeof r&&e.list.includes(r)},R=()=>new h(403,"Forbidden"),V=(e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"},q=async(e,t,r)=>{const o=Number(await r.get(e)||0);return t-Date.now()+o},S=async(e,t,r)=>{if(!t.throttle||!r)return!1;V(t.throttle,t.id);const o=t.id||e;return await q(o,t.throttle,r)>0||(await r.set(o,Date.now().toString()),!1)},P=()=>new h(429,"Too Many Requests"),O=async(e,t,r,o)=>{const s=g(o),i=s.publicKey||a.publicKey,n=s.blockHeadless||a.blockHeadless,l=s.storageProvider||a.storageProvider,c={...a.blockList,...s.blockList},m={...a.limitRate,...s.limitRate};return n&&x(navigator)?Promise.reject(j()):(_(i,e,t),M(r),r&&L(c,r)?Promise.reject(R()):await S(location.pathname,m,l)?Promise.reject(P()):k("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},A=e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},D=e=>"string"==typeof e?document.querySelector(e):e,I=async(e,t,r,o)=>{const s=g(o),i=s.publicKey||a.publicKey,n=s.blockHeadless||a.blockHeadless,l=a.storageProvider||s.storageProvider,c={...a.blockList,...s.blockList},m={...a.limitRate,...s.limitRate};if(n&&x(navigator))return Promise.reject(j());const u=D(r);_(i,e,t),A(u);const d=new FormData(u);return L(c,d)?Promise.reject(R()):await S(location.pathname,m,l)?Promise.reject(P()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",i),k("/api/v1.0/email/send-form",d))},z={init:E,send:O,sendForm:I,EmailJSResponseStatus:h};var J=0;function o(e,t,r,o,a,s){t||(t={});var i,n,l=t;"ref"in t&&(i=t.ref,delete t.ref);var c={type:e,props:l,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--J,__i:-1,__u:0,__source:a,__self:s};if("function"==typeof e&&(i=e.defaultProps))for(n in i)void 0===l[n]&&(l[n]=i[n]);return y.vnode&&y.vnode(c),c}const G=()=>{const[e,t]=w({status:!1,message:""}),[r,a]=w(!1),s=p(null),i=p(null),n=p(null);return o("form",{onSubmit:async e=>{if(e.preventDefault(),!s.current||!i.current||!n.current)return;const r=s?.current?.value,o=i?.current?.value,l=n?.current?.value;try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o))throw new Error("ðŸ™„ Invalid Email ID!");if(a(!0),200!==(await z.send("service_huskvyq","template_wdt00ex",{from_name:r,from_email:o,message:l},"u8MT3BqFiK8ov1oAA")).status)throw new Error("ðŸ˜µ Message not Sent");t({status:!0,message:"ðŸ‘ Message Sent!"}),a(!1),s.current.value="",i.current.value="",n.current.value=""}catch(e){t({status:!1,message:e.message})}finally{setTimeout((()=>{t({status:!1,message:""})}),3e3)}},className:"Fade_Up bg-LinkBtnGradient rounded-md w-full lg:max-w-[650px] px-4 py-2 outline outline-1 outline-white/20 flex_center flex-col",children:[o("label",{htmlFor:"name",className:"noCustomCursor w-full h-fit flex justify-center items-start flex-col px-1 py-2",children:["Name",o("input",{type:"text",id:"name",name:"name",placeholder:"Enter your Name",className:"w-full p-2 mt-1 rounded-md border-none outline-none bg-background text-foreground",autoComplete:"name",required:!0,ref:s})]}),o("label",{htmlFor:"email",className:"noCustomCursor w-full h-fit flex justify-center items-start flex-col px-1 py-2",children:["Email",o("input",{type:"email",id:"email",name:"email",placeholder:"example@gmail.com",className:"w-full p-2 mt-1 rounded-md border-none outline-none bg-background text-foreground",autoComplete:"email",required:!0,ref:i})]}),o("label",{htmlFor:"message",className:"noCustomCursor w-full h-fit flex justify-center items-start flex-col px-1 py-2",children:["Message",o("textarea",{rows:5,id:"message",name:"message",placeholder:"Enter your Message",className:"w-full p-2 mt-1 rounded-md border-none outline-none bg-background text-foreground resize-none",ref:n})]}),o("div",{className:"w-full flex justify-start items-center gap-4",children:[o("button",{className:"flex_center gap-4 border-none bg-background text-foreground outline outline-1 outline-white/20 my-1 mx-2 py-2 px-6 lg:px-20 rounded-md",type:"submit",disabled:r,children:o(v,r?{children:[o("span",{children:"Sending"}),o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"lucide lucide-loader-2 animate-spin",children:o("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})]}:{children:[o("span",{children:"Submit"}),o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-send-horizontal",children:[o("path",{d:"m3 3 3 9-3 9 19-9Z"}),o("path",{d:"M6 12h16"})]})]})}),o("span",{children:e.message})]})]})};export{G as ContactForm};